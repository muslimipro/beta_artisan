import{u as w}from"./useQuery-S9VUxE-m.js";import{m as b}from"./marked-CSV-5BXG.js";import{P as g}from"./ProjectService-BXYSZtEY.js";import{d as P,E as j,u as x,r as _,G as L,w as I,l as r,c as e,t as S,a as o,j as p,F as V,f as B,q as C,H as E,i as F,o as t}from"./index-BiGyBuRT.js";import{u as T}from"./api-Bv6PuMF-.js";import{b as U}from"./base-url-qR72hEjy.js";import{_ as q}from"./TokenCard.vue_vue_type_script_setup_true_lang-x5nX2xPt.js";import{g as H}from"./youtube-link-sanitizer-Dmi_Lr0T.js";import"./api-client-BQlDpWpK.js";const N={key:0,class:"p-8"},R={key:1},$={key:2,class:"flex justify-center w-full bg-white"},A={class:"w-8/12 self-center"},D=o("br",null,null,-1),M={key:0},Y=["src"],z=o("br",null,null,-1),G={class:"flex"},K=o("br",null,null,-1),Q=["innerHTML"],J=o("br",null,null,-1),ae=P({__name:"ProjectContentView",setup(O){const i=j(),{locale:m}=x(),{fetchAPI:h}=T(),l=_(""),n=_(""),f=L(()=>b.parse(l.value)),{isPending:v,isError:y,data:c,error:k}=w({queryKey:["/projects/",i.params.id.toString()],queryFn:async()=>{const s=await g.getProjectByID(i.params.id.toString()),u=await h(`${U}/${s.path}`).then(a=>a.text());return l.value=u,n.value=H(s.videoURL),s}});return I(m,s=>{E.replace({path:"/projects"})}),(s,u)=>{const a=F("v-empty-state");return r(v)?(t(),e("div",N," Pending... ")):r(y)?(t(),e("div",R,S(r(k)),1)):r(c)?(t(),e("div",$,[o("div",A,[D,n.value==null?(t(),e("div",M,[p(a,{headline:"Error",title:"Video not found",text:"Invalid video URL. Please check the link."})])):(t(),e("iframe",{key:1,width:"100%",height:"370",src:n.value,title:"YouTube video player",frameborder:"0",allow:"clipboard-write; encrypted-media; picture-in-picture",allowfullscreen:""},null,8,Y)),z,o("div",G,[(t(!0),e(V,null,B(r(c).artisan_tokens,d=>(t(),e("div",{class:"px-2",key:d.id},[p(q,{token:d},null,8,["token"])]))),128))]),K,o("div",{innerHTML:f.value,class:"content markdown-body"},null,8,Q),J])])):C("",!0)}}});export{ae as default};
