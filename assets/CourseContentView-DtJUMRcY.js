import{u as S}from"./useQuery-iqdx9jcJ.js";import{d as C,K as B,b as M,c as s,a as t,t as d,l as e,F as y,f as g,o,g as v,H as V,J as F,j as w,q as N,i as R}from"./index-BQo8HGay.js";import{S as j}from"./SkillService-Bb3D5TfH.js";import{Y as q}from"./yellow_star-CHjFodN-.js";import{u as $}from"./course-content-store-H_NT2aE5.js";import"./api-client-A--2tcaO.js";import"./base-url-qR72hEjy.js";const z={class:"flex-none flex flex-col w-80 px-8 py-8 bg-zinc-50"},T={class:"flex-1 basis-1 flex-col text-black gap-1 overflow-y-auto"},D={class:"flex text-black w-full text-xl text-ellipsis pb-4 border-b"},E={class:"pr-2"},I=["src"],K=t("div",{class:"py-2"},null,-1),P=["onClick"],Y={class:"py-2 pr-2 bg-transparent text-black truncate text-ellipsis"},H=t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5 5 1 1 5"},null,-1),J=[H],L=["onClick"],O={class:"text-left truncate text-ellipsis"},Q=C({__name:"CourseNavigationBar",props:{courseInfo:{}},setup(m){const c=m.courseInfo,l=$(),{openedModule:i,activeModuleIndex:u,activeTopicIndex:a}=B(l),{resizeModules:p,toggleModule:r,changeTopic:x}=l;return M(()=>{p(c.modules.length)}),(b,X)=>(o(),s("div",z,[t("div",T,[t("div",D,[t("h1",E,d(e(c).name),1),t("img",{src:e(q)},null,8,I)]),K,(o(!0),s(y,null,g(e(c).modules,(_,n)=>(o(),s("h2",{key:_.name},[t("button",{type:"button",onClick:f=>e(r)(n),class:"flex justify-between items-center w-full"},[t("span",Y,d(_.name),1),(o(),s("svg",{class:v([e(i)[n]?"":"rotate-180","w-3 h-3 shrink-0"]),fill:"none",viewBox:"0 0 10 6"},J,2))],8,P),t("div",null,[(o(!0),s(y,null,g(_.topics,(f,h)=>(o(),s("button",{key:f.id,class:v(["relative block w-full box-border h-8 px-4 py-1 border-l-2 hover:text-gray-800",[e(u)==n&&e(a)==h?"text-black border-black":"text-gray-500 border-gray-200",e(i)[n]||e(u)==n&&e(a)==h?"":"hidden"]]),onClick:Z=>e(x)(n,h)},[t("p",O,d(f.name),1)],10,L))),128))])]))),128))])]))}}),W={class:"flex flex-col w-full bg-white"},A={key:0},G={key:1},U={key:2,class:"flex h-full"},le=C({__name:"CourseContentView",setup(m){const k=$(),{setCourseInfo:c}=k,l=V(),{isPending:i,isError:u,data:a,error:p}=S({queryKey:[`skill/${l.params.id}`],queryFn:async()=>{const r=await j.getCourseInfoByID(l.params.id.toString());return c(r),F.replace({path:`/course/${r.id}/topic/${r.modules[0].topics[0].id}`}),r},refetchOnWindowFocus:!1});return(r,x)=>{const b=R("RouterView");return o(),s("div",W,[e(i)?(o(),s("div",A," Pending... ")):e(u)?(o(),s("div",G,d(e(p)),1)):e(a)?(o(),s("div",U,[w(Q,{"course-info":e(a)},null,8,["course-info"]),w(b)])):N("",!0)])}}});export{le as default};
