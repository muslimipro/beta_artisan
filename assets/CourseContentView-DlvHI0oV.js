import{o as s,c as l,a as e,d as F,r as u,k as Q,u as r,t as p,F as _,i as b,l as C,p as I,q as y,v as $,x as P,y as N,e as D,s as O}from"./index-DPqvNHhG.js";import{u as Y,a as K}from"./api-C5eA0vXB.js";import{u as W}from"./utils-Dlzf5KNW.js";import{b as B}from"./base-url-qR72hEjy.js";import{m as J}from"./marked.esm-BnmvkTYZ.js";import{Y as X}from"./yellow_star-CHjFodN-.js";function e0(L,g){return s(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z","clip-rule":"evenodd"}),e("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"})])}const t0="data:image/svg+xml,%3csvg%20width='36'%20height='42'%20viewBox='0%200%2036%2042'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M35.2411%2021.8649C35.9052%2021.4795%2035.9052%2020.5205%2035.2411%2020.1351L2.33593%201.03833C1.66927%200.651428%200.833984%201.13243%200.833984%201.90323V40.0968C0.833984%2040.8676%201.66927%2041.3486%202.33593%2040.9617L35.2411%2021.8649Z'%20fill='black'/%3e%3c/svg%3e",o0="data:image/svg+xml,%3csvg%20width='37'%20height='28'%20viewBox='0%200%2037%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0.595226%205.896V0.568H36.3072V5.896H0.595226ZM0.595226%2016.84V11.512H36.3072V16.84H0.595226ZM0.595226%2027.784V22.456H36.3072V27.784H0.595226Z'%20fill='black'/%3e%3c/svg%3e",s0="data:image/svg+xml,%3csvg%20width='25'%20height='38'%20viewBox='0%200%2025%2038'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.84156%2024.9717C7.83356%2017.4357%2018.0576%2015.7557%2018.0576%2011.0997C18.0576%208.17169%2015.7536%206.53969%2011.9616%206.53969C9.03356%206.53969%206.63356%207.88369%204.28156%2010.3317L0.34556%206.73169C3.41756%203.17969%207.64156%200.827691%2012.7776%200.827691C19.7376%200.827691%2024.8256%204.09169%2024.8256%2010.4757C24.8256%2017.4837%2014.3136%2018.3477%2015.0816%2024.9717H8.84156ZM12.0096%2037.7877C9.51356%2037.7877%207.73756%2036.0117%207.73756%2033.5157C7.73756%2031.0197%209.56156%2029.2917%2012.0096%2029.2917C14.4096%2029.2917%2016.2336%2031.0197%2016.2336%2033.5157C16.2336%2036.0117%2014.4096%2037.7877%2012.0096%2037.7877Z'%20fill='black'/%3e%3c/svg%3e",l0="data:image/svg+xml,%3c?xml%20version='1.0'%20?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle/%3e%3cg%20id='Complete'%3e%3cg%20id='edit'%3e%3cg%3e%3cpath%20d='M20,16v4a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2V6A2,2,0,0,1,4,4H8'%20fill='none'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'/%3e%3cpolygon%20fill='none'%20points='12.5%2015.8%2022%206.2%2017.8%202%208.3%2011.5%208%2016%2012.5%2015.8'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",n0="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20width='800px'%20height='800px'%20viewBox='0%20-1.5%2027%2027'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m24%2024h-24v-24h18.4v2.4h-16v19.2h20v-8.8h2.4v11.2zm-19.52-12.42%201.807-1.807%205.422%205.422%2013.68-13.68%201.811%201.803-15.491%2015.491z'/%3e%3c/svg%3e",a0="data:image/svg+xml,%3csvg%20width='25'%20height='27'%20viewBox='0%200%2025%2027'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0.846153%2026.6875V20.9091H24.8462V26.6875H0.846153ZM24.8462%2012.7273L0.846153%2019.2045V13.6136L16.6814%209.79545L16.4598%2010.1534V9.30114L16.6814%209.65909L0.846153%205.84091V0.25L24.8462%206.72727V12.7273Z'%20fill='black'/%3e%3c/svg%3e",c0="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22%206.99999C19%206.99999%2013.5%206.99999%2011.5%2012.5C9.5%2018%205%2018%202%2018'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M20%205C20%205%2021.219%206.21895%2022%207C21.219%207.78105%2020%209%2020%209'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M22%2018C19%2018%2013.5%2018%2011.5%2012.5C9.5%206.99999%205%207.00001%202%207'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M20%2020C20%2020%2021.219%2018.781%2022%2018C21.219%2017.219%2020%2016%2020%2016'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e";function i0(L,g){return s(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})])}const r0={class:"flex flex-col w-full"},d0={key:0},u0={key:1},v0={key:2,class:"flex h-full"},h0={class:"flex-none flex flex-col w-80 px-8 py-8 bg-zinc-50 border-t"},p0={class:"flex-1 basis-1 flex-col text-black gap-1 overflow-y-auto"},g0={class:"flex text-black w-full text-xl text-ellipsis pb-4 border-b"},w0={class:"pr-2"},x0=["src"],f0=e("div",{class:"py-2"},null,-1),k0=["onClick"],m0={class:"py-2 pr-2 bg-transparent text-black truncate text-ellipsis"},_0=e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5 5 1 1 5"},null,-1),b0=[_0],C0=["onClick"],y0={class:"text-left truncate text-ellipsis"},M0={class:"flex-1 flex flex-col justify-between items-center border-t pt-8"},V0=["innerHTML"],H0={key:0},B0=["id","value"],L0={for:"'checkboxLabel' + i"},j0={key:1},S0=["id","value"],Z0={for:"'checkboxLabel' + i"},$0=e("br",null,null,-1),q0={key:0},G0=e("button",{id:"submitBtn",class:"bg-zinc-500 text-white outline outline-black hover:outline-4 active:bg-blue-500"}," Отправить ",-1),A0=[G0],R0=e("br",null,null,-1),T0={class:"flex sticky bottom-0 self-start bg-white border p-2 rounded-lg my-4 mx-8"},z0={class:"flex items-center"},U0=["onClick"],O0=F({__name:"CourseContentView",setup(L){const g=I(),{fetchAPI:M}=K(),q=async()=>{const o=await M(`${B}/courses/info/${g.params.id}`).then(n=>n.json());return U(o.modules.length),o.modules.length>0&&o.modules[0].topics.length>0&&j(x.value,f.value,o.modules[0].topics[0].id),o},{isPending:G,isError:A,data:w,error:R}=Y({queryKey:[`skill/${g.params.id}`],queryFn:q,refetchOnWindowFocus:!1}),d=u([]),T={video:t0,article:o0,scq:s0,mcq:n0,gap:l0,code:a0,match:c0},x=u(0),f=u(0),v=u(0);var k=[];const V=u([]),m=u([]),h=u([]),H=u(""),z=Q(()=>J(H.value)),j=async(o,n,i)=>{x.value=o,f.value=n,v.value=0;const t=await M(`${B}/topics/${i}`).then(a=>a.json());d.value=t.steps,S(0)},S=async o=>{if(v.value=o,d.value.length>0){const t=W(d.value[o].path),a=await M(`${B}/${t}`).then(c=>c.text());H.value=a;var n=a.split(`
`);if(d.value[o].category=="scq"||d.value[o].category=="mcq"){var i=n.filter(c=>!c.includes("[ ]")&&!c.includes("[x]"));k=n.filter(c=>c.includes("[ ]")||c.includes("[x]")),k=k.map(c=>c.substring(5)),H.value=i.join(`
`)}}},Z=()=>{m.value.length==0?console.log(V):console.log(m)},U=o=>{for(const n of Array(o).keys())h.value.push(!0)},E=o=>{h.value[o]=!h.value[o],console.log(h,o)};return(o,n)=>(s(),l("div",r0,[r(G)?(s(),l("div",d0)):r(A)?(s(),l("div",u0,p(r(R)),1)):r(w)?(s(),l("div",v0,[e("div",h0,[e("div",p0,[e("div",g0,[e("h1",w0,p(r(w).name),1),e("img",{src:r(X)},null,8,x0)]),f0,(s(!0),l(_,null,b(r(w).modules,(i,t)=>(s(),l("h2",null,[e("button",{type:"button",onClick:a=>E(t),class:"flex justify-between items-center w-full"},[e("span",m0,p(i.name),1),(s(),l("svg",{class:y([h.value[t]?"":"rotate-180","w-3 h-3 shrink-0"]),fill:"none",viewBox:"0 0 10 6"},b0,2))],8,k0),e("div",null,[(s(!0),l(_,null,b(i.topics,(a,c)=>(s(),l("button",{class:y(["relative block w-full box-border h-8 px-4 py-1 border-l-2 hover:text-gray-800",[x.value==t&&f.value==c?"text-black border-black":"text-gray-500 border-gray-200",h.value[t]||x.value==t&&f.value==c?"":"hidden"]]),onClick:E0=>j(t,c,r(w).modules[t].topics[c].id)},[e("p",y0,p(a.name),1)],10,C0))),256))])]))),256))])]),e("div",M0,[e("div",{class:"markdown-body w-10/12",innerHTML:z.value},null,8,V0),(s(!0),l(_,null,b(r(k),(i,t)=>(s(),l("div",null,[d.value[v.value].category=="scq"?(s(),l("div",H0,[$(e("input",{type:"radio","onUpdate:modelValue":n[0]||(n[0]=a=>V.value=a),id:"checkbox"+t,onChange:n[1]||(n[1]=a=>Z()),value:t},null,40,B0),[[P,V.value]]),e("label",L0,p(i),1)])):d.value[v.value].category=="mcq"?(s(),l("div",j0,[$(e("input",{type:"checkbox","onUpdate:modelValue":n[2]||(n[2]=a=>m.value=a),id:"checkbox"+t,onChange:n[3]||(n[3]=a=>Z()),value:t},null,40,S0),[[N,m.value]]),e("label",Z0,p(i),1)])):C("",!0)]))),256)),$0,d.value[v.value].category!="article"?(s(),l("div",q0,A0)):C("",!0),R0,e("div",T0,[(s(!0),l(_,null,b(d.value,(i,t)=>(s(),l("div",z0,[e("button",{class:y([v.value==t?"bg-black":"bg-zinc-200","flex rounded-full w-8 h-8 mx-1 items-center justify-center"]),onClick:a=>S(t)},[D(r(e0),{class:y(["h-6 w-6",v.value==t?"text-white":"text-black"]),"aria-hidden":"true",alt:T[i.category]},null,8,["class","alt"])],10,U0),t<d.value.length-1?(s(),O(r(i0),{key:0,class:"h-5 w-5","aria-hidden":"true"})):C("",!0)]))),256))])])])):C("",!0)]))}});export{O0 as default};
