import{u as w}from"./useQuery-BqBrnCNp.js";import{e as k,r as y,o as e,c as s,b as x,w as b,a as r,u as t,t as i,F as c,h as u,n as $,p as C,q as S}from"./index-BaKMnSPB.js";import{Y as j}from"./yellow_star-CHjFodN-.js";import{M as z}from"./missing-image-DTu8rdm0.js";import{b as B}from"./base-url-BvxCX-Fu.js";const L={href:"/",class:"max-w-sm bg-white shadow-lg hover:shadow-xl"},V=["src","alt"],q={class:"flex justify-center p-4 bg-black text-white"},E={class:"font-normal px-2"},F=["src"],N=k({__name:"SkillCard",props:{skill:{}},setup(_){const l=_.skill;var o;return l.preview==""?o=z:o=new URL(l.preview,import.meta.url).href,(m,h)=>{const a=y("RouterLink");return e(),s("div",L,[x(a,{to:`/skill/${t(l).id}`},{default:b(()=>[r("img",{class:"rounded-t-lg h-40 w-96",src:t(o),alt:t(l).name+" Image"},null,8,V),r("div",q,[r("p",E,i(t(l).name),1),(e(!0),s(c,null,u(t(l).level,n=>(e(),s("div",null,[r("img",{src:t(j),alt:"filled level star"},null,8,F)]))),256))])]),_:1},8,["to"])])}}}),R={class:"flex flex-1 flex-col"},A={key:0},I={key:1},M={key:2,class:"grid grid-cols-3 h-full"},P={class:"flex text-2xl p-4 bg-black justify-center"},U={class:"flex flex-1 h-full flex-col"},Y={class:"flex justify-center p-4"},J=k({__name:"SkillsView",setup(_){const d=async()=>{const n=S();if(n)return await fetch(`${B}/skills/`,{headers:{Authorization:`Bearer ${n.access_token}`}}).then(f=>f.json())},{isPending:l,isError:o,isSuccess:m,data:h,error:a}=w({queryKey:["skills"],queryFn:d});return(n,f)=>(e(),s("div",R,[t(l)?(e(),s("div",A," Pending ")):t(o)?(e(),s("span",I,"Error: "+i(t(a)),1)):t(m)?(e(),s("div",M,[(e(!0),s(c,null,u(t(h),(p,g)=>(e(),s("div",{class:C(["text-white",g%2==0?"bg-zinc-500":"bg-zinc-300"])},[r("div",P,i(p.name),1),r("div",U,[(e(!0),s(c,null,u(p.majors,v=>(e(),s("div",Y,[x(N,{skill:v},null,8,["skill"])]))),256))])],2))),256))])):$("",!0)]))}});export{J as default};
