import{u as q,a as G}from"./api-B7pbelib.js";import{u as I}from"./utils-Dlzf5KNW.js";import{b as _}from"./base-url-qR72hEjy.js";import{e as E,j as h,i as R,k as A,c as o,u as l,t as u,a as n,p as B,F as m,h as k,n as F,o as s,q as b}from"./index-ByyDOx2V.js";import{m as P}from"./marked.esm-BnmvkTYZ.js";import{Y as Q}from"./yellow_star-CHjFodN-.js";const U="data:image/svg+xml,%3csvg%20width='36'%20height='42'%20viewBox='0%200%2036%2042'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M35.2411%2021.8649C35.9052%2021.4795%2035.9052%2020.5205%2035.2411%2020.1351L2.33593%201.03833C1.66927%200.651428%200.833984%201.13243%200.833984%201.90323V40.0968C0.833984%2040.8676%201.66927%2041.3486%202.33593%2040.9617L35.2411%2021.8649Z'%20fill='black'/%3e%3c/svg%3e",N="data:image/svg+xml,%3csvg%20width='37'%20height='28'%20viewBox='0%200%2037%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0.595226%205.896V0.568H36.3072V5.896H0.595226ZM0.595226%2016.84V11.512H36.3072V16.84H0.595226ZM0.595226%2027.784V22.456H36.3072V27.784H0.595226Z'%20fill='black'/%3e%3c/svg%3e",Y="data:image/svg+xml,%3csvg%20width='25'%20height='38'%20viewBox='0%200%2025%2038'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.84156%2024.9717C7.83356%2017.4357%2018.0576%2015.7557%2018.0576%2011.0997C18.0576%208.17169%2015.7536%206.53969%2011.9616%206.53969C9.03356%206.53969%206.63356%207.88369%204.28156%2010.3317L0.34556%206.73169C3.41756%203.17969%207.64156%200.827691%2012.7776%200.827691C19.7376%200.827691%2024.8256%204.09169%2024.8256%2010.4757C24.8256%2017.4837%2014.3136%2018.3477%2015.0816%2024.9717H8.84156ZM12.0096%2037.7877C9.51356%2037.7877%207.73756%2036.0117%207.73756%2033.5157C7.73756%2031.0197%209.56156%2029.2917%2012.0096%2029.2917C14.4096%2029.2917%2016.2336%2031.0197%2016.2336%2033.5157C16.2336%2036.0117%2014.4096%2037.7877%2012.0096%2037.7877Z'%20fill='black'/%3e%3c/svg%3e",D="data:image/svg+xml,%3c?xml%20version='1.0'%20?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle/%3e%3cg%20id='Complete'%3e%3cg%20id='edit'%3e%3cg%3e%3cpath%20d='M20,16v4a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2V6A2,2,0,0,1,4,4H8'%20fill='none'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'/%3e%3cpolygon%20fill='none'%20points='12.5%2015.8%2022%206.2%2017.8%202%208.3%2011.5%208%2016%2012.5%2015.8'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",K="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20width='800px'%20height='800px'%20viewBox='0%20-1.5%2027%2027'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m24%2024h-24v-24h18.4v2.4h-16v19.2h20v-8.8h2.4v11.2zm-19.52-12.42%201.807-1.807%205.422%205.422%2013.68-13.68%201.811%201.803-15.491%2015.491z'/%3e%3c/svg%3e",O="data:image/svg+xml,%3csvg%20width='25'%20height='27'%20viewBox='0%200%2025%2027'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0.846153%2026.6875V20.9091H24.8462V26.6875H0.846153ZM24.8462%2012.7273L0.846153%2019.2045V13.6136L16.6814%209.79545L16.4598%2010.1534V9.30114L16.6814%209.65909L0.846153%205.84091V0.25L24.8462%206.72727V12.7273Z'%20fill='black'/%3e%3c/svg%3e",J={class:"flex flex-col w-full"},W={key:0},X={key:1},e2={key:2,class:"flex justify-center bg-black text-white w-full text-3xl p-4"},t2={class:"px-4"},o2=["src"],s2={key:3},n2={key:4},l2={key:5,class:"flex h-full"},c2={class:"flex-none flex flex-col w-72"},i2={class:"flex-1 basis-1 flex-col text-white bg-black gap-1 overflow-y-auto"},a2=["id"],r2=["onClick"],d2={class:"py-2 pr-2 bg-zinc-500 text-white truncate text-ellipsis"},h2=n("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5 5 1 1 5"},null,-1),u2=[h2],p2=["id","aria-labelledby"],v2=["onClick"],g2={class:"text-left truncate text-ellipsis"},w2={class:"flex-1 flex flex-col justify-between"},x2={class:"px-12 prose lg:prose-xl"},f2=["innerHTML"],_2={class:"flex text-white bg-black p-2 w-full sticky bottom-0"},m2=["onClick"],k2=["src"],B2=E({__name:"CourseContentView",setup(b2){const y=F(),{fetchAPI:g}=G(),$=async()=>{const e=await g(`${_}/majors/info/${y.params.id}`).then(i=>i.json());return z(e.modules.length),e.modules.length>0&&e.modules[0].topics.length>0&&L(0,0,e.modules[0].topics[0].id),e},{isPending:C,isError:M,data:r,error:V}=q({queryKey:[`skill/${y.params.id}`],queryFn:$}),p=h([]),S={video:U,article:N,scq:Y,mcq:K,gap:D,code:O},w=h(0),x=h(0),f=h(0),a=R([]),H=h(""),Z=A(()=>P(H.value)),L=async(e,i,c)=>{w.value=e,x.value=i,f.value=0;const t=await g(`${_}/topics/${c}`).then(d=>d.json());p.value=t.steps,j(0)},j=async e=>{if(f.value=e,p.value.length>0){const i=I(p.value[e].path),c=await g(`${_}/${i}`).then(t=>t.text());H.value=c}},z=e=>{for(const i of Array(e).keys())a.push(!0)},T=e=>{a[e]=!a[e],console.log(a,e)};return(e,i)=>(s(),o("div",J,[l(C)?(s(),o("div",W)):l(M)?(s(),o("div",X,u(l(V)),1)):l(r)?(s(),o("div",e2,[n("h1",t2,u(l(r).name),1),n("img",{src:l(Q)},null,8,o2)])):B("",!0),l(C)?(s(),o("div",s2)):l(M)?(s(),o("div",n2,u(l(V)),1)):l(r)?(s(),o("div",l2,[n("div",c2,[n("div",i2,[(s(!0),o(m,null,k(l(r).modules,(c,t)=>(s(),o("h2",{id:"accordion-heading-"+t},[n("button",{type:"button",onClick:d=>T(t),class:"flex justify-between items-center w-full bg-zinc-500 text-white px-2"},[n("span",d2,u(c.name),1),(s(),o("svg",{class:b([a[t]?"":"rotate-180","w-3 h-3 shrink-0"]),fill:"none",viewBox:"0 0 10 6"},u2,2))],8,r2),n("div",{id:"accordion-body-"+t,"aria-labelledby":"accordion-heading-"+t},[(s(!0),o(m,null,k(c.topics,(d,v)=>(s(),o("button",{class:b(["relative block w-full box-border h-8 px-8 py-1 bg-black hover:border-b-2 border-white",[w.value==t&&x.value==v?"border-b-2":"border-0",a[t]||w.value==t&&x.value==v?"":"hidden"]]),onClick:y2=>L(t,v,l(r).modules[t].topics[v].id)},[n("p",g2,u(d.name),1)],10,v2))),256))],8,p2)],8,a2))),256))])]),n("div",w2,[n("article",x2,[n("div",{class:"output",innerHTML:Z.value},null,8,f2)]),n("div",_2,[(s(!0),o(m,null,k(p.value,(c,t)=>(s(),o("button",{class:b([f.value==t?"bg-white":"bg-zinc-500","flex justify-center rounded-full w-8 h-8 mx-1"]),onClick:d=>j(t)},[n("img",{class:"p-1",src:S[c.category]},null,8,k2)],10,m2))),256))])])])):B("",!0)]))}});export{B2 as default};
