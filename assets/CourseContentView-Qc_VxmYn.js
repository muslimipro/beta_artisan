import{u as B}from"./useQuery-Bd2VGEUf.js";import{d as C,C as S,b as M,c as s,a as t,t as d,l as e,F as y,f as g,o,g as v,z as V,B as z,j as w,s as F,i as N}from"./index-_-K7n9EN.js";import{u as $,S as R}from"./course-content-store-B1KyCe3a.js";import{Y as j}from"./yellow_star-CHjFodN-.js";import"./api-client-CnnOMM-S.js";import"./base-url-qR72hEjy.js";const T={class:"flex-none flex flex-col w-80 px-8 py-8 bg-zinc-50"},q={class:"flex-1 basis-1 flex-col text-black gap-1 overflow-y-auto"},D={class:"flex text-black w-full text-xl text-ellipsis pb-4 border-b"},E={class:"pr-2"},I=["src"],P=t("div",{class:"py-2"},null,-1),Y=["onClick"],K={class:"py-2 pr-2 bg-transparent text-black truncate text-ellipsis"},L=t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5 5 1 1 5"},null,-1),O=[L],Q=["onClick"],W={class:"text-left truncate text-ellipsis"},A=C({__name:"CourseNavigationBar",props:{courseInfo:{}},setup(m){const c=m.courseInfo,l=$(),{openedModule:i,activeModuleIndex:u,activeTopicIndex:a}=S(l),{resizeModules:p,toggleModule:r,changeTopic:x}=l;return M(()=>{p(c.modules.length)}),(b,X)=>(o(),s("div",T,[t("div",q,[t("div",D,[t("h1",E,d(e(c).name),1),t("img",{src:e(j)},null,8,I)]),P,(o(!0),s(y,null,g(e(c).modules,(_,n)=>(o(),s("h2",{key:_.name},[t("button",{type:"button",onClick:f=>e(r)(n),class:"flex justify-between items-center w-full"},[t("span",K,d(_.name),1),(o(),s("svg",{class:v([e(i)[n]?"":"rotate-180","w-3 h-3 shrink-0"]),fill:"none",viewBox:"0 0 10 6"},O,2))],8,Y),t("div",null,[(o(!0),s(y,null,g(_.topics,(f,h)=>(o(),s("button",{key:f.id,class:v(["relative block w-full box-border h-8 px-4 py-1 border-l-2 hover:text-gray-800",[e(u)==n&&e(a)==h?"text-black border-black":"text-gray-500 border-gray-200",e(i)[n]||e(u)==n&&e(a)==h?"":"hidden"]]),onClick:Z=>e(x)(n,h)},[t("p",W,d(f.name),1)],10,Q))),128))])]))),128))])]))}}),G={class:"flex flex-col w-full bg-white"},H={key:0},J={key:1},U={key:2,class:"flex h-full"},ce=C({__name:"CourseContentView",setup(m){const k=$(),{setCourseInfo:c}=k,l=V(),{isPending:i,isError:u,data:a,error:p}=B({queryKey:[`skill/${l.params.id}`],queryFn:async()=>{const r=await R.getCourseInfoByID(l.params.id.toString());return c(r),z.replace({path:`/course/${r.id}/topic/${r.modules[0].topics[0].id}`}),r},refetchOnWindowFocus:!1});return(r,x)=>{const b=N("RouterView");return o(),s("div",G,[e(i)?(o(),s("div",H," Pending... ")):e(u)?(o(),s("div",J,d(e(p)),1)):e(a)?(o(),s("div",U,[w(A,{"course-info":e(a)},null,8,["course-info"]),w(b)])):F("",!0)])}}});export{ce as default};
