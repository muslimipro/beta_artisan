import{u as S}from"./useQuery-oHZOrjAP.js";import{d as V,u as b,r as u,n as A,w as q,b as p,j as o,o as t,c as s,t as B,k as g,f,e as h,F,h as $,l as c,p as G,a as x}from"./index-BsCo9RwT.js";import{P as L}from"./ProjectService-9DTwVWzM.js";import{P as M}from"./ProjectCard-H6pYAA88.js";import{S as E}from"./SkillService-DVMBHOlJ.js";import{C as O}from"./CourseCard-BmcbuJpR.js";import"./api-client-DOsdkAcH.js";import"./base-url-qR72hEjy.js";import"./yellow_star-CHjFodN-.js";import"./course-content-store-DX7xJ30l.js";const Q={key:0},R={key:1},U={key:2,class:"flex flex-wrap px-8 gap-8",style:{width:"100%"}},W=V({__name:"IntroProjectsView.",props:{course:{}},setup(I){const{locale:a}=b(),i=u(a.value),d=I,e=A(()=>d.course),r=u([]),n=u({}),{isPending:k,isError:w,data:v,error:P,refetch:j}=S({queryKey:[`skill/intro/${e.value.id}`,i],queryFn:async()=>{const l=await E.getCourseInfoByID(e.value.id.toString());return r.value=l.modules[0].topics.map(_=>({id:e.value.id,name:_.name,description:"",cover_image:e.value.cover_image,prereqs:[],status:e.value.status,total_steps_count:e.value.total_steps_count,completed_steps_count:e.value.completed_steps_count,accessed_steps_count:e.value.accessed_steps_count,last_accessed_topic:e.value.last_accessed_topic})),l},refetchOnWindowFocus:!1});return q([()=>a.value,()=>e.value.id],()=>{i.value=a.value,j()},{immediate:!0}),(l,_)=>{const C=p("v-slide-group-item"),m=p("v-slide-group"),N=p("v-col"),D=p("v-container");return o(k)?(t(),s("div",Q," Pending... ")):o(w)?(t(),s("div",R,B(o(P)),1)):o(v)?(t(),s("div",U,[r.value.length>0?(t(),g(D,{key:0,fluid:"",class:"pa-0 px-5"},{default:f(()=>[h(N,{style:{"min-width":"100px","max-width":"100%"},class:"px-0 py-0"},{default:f(()=>[h(m,{modelValue:n.value[0],"onUpdate:modelValue":_[0]||(_[0]=y=>n.value[0]=y),mobile:"","center-active":"","show-arrows":""},{default:f(()=>[(t(!0),s(F,null,$(r.value,(y,K)=>(t(),g(C,{key:y.id},{default:f(()=>[h(O,{class:"mx-4 my-2",course:y,introIndex:K},null,8,["course","introIndex"])]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})):c("",!0)])):c("",!0)}}}),z={key:0},H={key:1},J={key:2,class:"flex-col w-full"},T={key:0,class:"text-h5 ml-8 mt-8 pb-4 pl-4"},X=x("br",null,null,-1),Y=x("div",{class:"text-h5 ml-8 mt-8 pb-4 pl-4"}," Projects ",-1),Z={class:"flex flex-wrap justify-center px-8 gap-8"},ee=x("div",{class:"h-8"},null,-1),de=V({__name:"ProjectsView",async setup(I){let a,i;const{locale:d}=b(),e=u(d.value),r=u([]),n=u(-1);r.value=([a,i]=G(()=>E.getSkills(e.value)),a=await a,i(),a),n.value=r.value[0].courses.findIndex(l=>l.name=="Micropython");const{isPending:k,isError:w,data:v,error:P,refetch:j}=S({queryKey:["projects"+e.value],queryFn:async()=>await L.getProjects(e.value)});return q(()=>d.value,()=>{e.value=d.value,console.log(e.value),j()},{immediate:!0}),(l,_)=>{const C=p("v-divider");return o(k)?(t(),s("div",z," Pending... ")):o(w)?(t(),s("div",H,B(o(P)),1)):o(v)?(t(),s("div",J,[n.value!=-1?(t(),s("div",T," Introduction to Raspberry Pi Pico ")):c("",!0),n.value!=-1?(t(),g(W,{key:1,course:r.value[0].courses[n.value]},null,8,["course"])):c("",!0),X,r.value.length>0?(t(),g(C,{key:2,thickness:2,class:"border-opacity-100"})):c("",!0),Y,x("div",Z,[(t(!0),s(F,null,$(o(v),m=>(t(),s("div",{key:m.id},[h(M,{project:m},null,8,["project"])]))),128))]),ee])):c("",!0)}}});export{de as default};
