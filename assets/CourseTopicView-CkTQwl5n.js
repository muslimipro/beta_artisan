import{u as x}from"./course-content-store-COULzK7b.js";import{u as B}from"./useQuery-HTLHwbt_.js";import{S as V}from"./SkillService-a8LuC0mk.js";import{o as s,c as i,a as f,d as b,K as q,f as C,F as N,i as R,q as e,g as n,h as m,s as h,j as u,v as S,l as T,r as j,w as D,t as E,m as v,J as F}from"./index-C11EpQ5l.js";import"./api-client-Btcv0lG1.js";import"./base-url-qR72hEjy.js";function z(k,r){return s(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[f("path",{"fill-rule":"evenodd",d:"M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})])}const K={class:"flex sticky bottom-0 self-start bg-white border p-2 rounded-lg my-4 mx-8"},L=["onClick"],P=b({__name:"StepNavigationBar",setup(k){const r=x(),{activeStepIndex:a,currentSteps:o}=q(r),{changeStep:l}=r;return(w,y)=>{const c=C("v-icon");return s(),i("div",K,[(s(!0),i(N,null,R(e(o),(_,t)=>(s(),i("div",{key:_.id,class:"flex items-center"},[f("button",{class:u([e(a)==t?"bg-black":"bg-zinc-200","flex rounded-full w-8 h-8 mx-1 items-center justify-center"]),onClick:g=>e(l)(t)},[e(o)[t].category=="code"?(s(),n(c,{key:0,class:u(["h-6 w-6",e(a)==t?"text-white":"text-black"]),"aria-hidden":"true"},{default:m(()=>[h(" mdi-xml ")]),_:2},1032,["class"])):e(o)[t].category=="scq"?(s(),n(c,{key:1,class:u(["h-6 w-6",e(a)==t?"text-white":"text-black"]),"aria-hidden":"true"},{default:m(()=>[h(" mdi-checkbox-marked-circle-outline ")]),_:2},1032,["class"])):e(o)[t].category=="mcq"?(s(),n(c,{key:2,class:u(["h-6 w-6",e(a)==t?"text-white":"text-black"]),"aria-hidden":"true"},{default:m(()=>[h(" mdi-checkbox-multiple-marked-outline ")]),_:2},1032,["class"])):e(o)[t].category=="video"?(s(),n(c,{key:3,class:u(["h-6 w-6",e(a)==t?"text-white":"text-black"]),"aria-hidden":"true"},{default:m(()=>[h(" mdi-play-circle-outline ")]),_:2},1032,["class"])):(s(),n(c,{key:4,class:u(["h-6 w-6",e(a)==t?"text-white":"text-black"]),"aria-hidden":"true"},{default:m(()=>[h(" mdi-text-box-outline ")]),_:2},1032,["class"]))],10,L),t<e(o).length-1?(s(),n(e(z),{key:0,class:"h-5 w-5","aria-hidden":"true"})):S("",!0)]))),128))])}}}),J={key:0,class:"p-8"},M={key:1},Q={key:2,class:"flex h-full w-full"},Z={class:"flex-1 flex flex-col justify-between items-center pt-8"},X=b({__name:"CourseTopicView",setup(k){const r=T(),a=x(),{setSteps:o}=a,l=j(""),{isPending:w,isError:y,data:c,error:_,refetch:t}=B({queryKey:["topic",l],queryFn:g});async function g(){const d=await V.getTopicByID(l.value);return d.steps.forEach(p=>{console.log(`step.id: ${p.id}, ${p.progress}`)}),o(d.steps),F.replace({path:`/course/${r.params.id}/topic/${l.value}/step/${d.steps[0].id}`}),d}return D(()=>r.params.topic_id,()=>{l.value=r.params.topic_id.toString(),t()},{immediate:!0}),(d,p)=>{const $=C("RouterView");return e(w)?(s(),i("div",J," Pending... ")):e(y)?(s(),i("div",M,E(e(_)),1)):e(c)?(s(),i("div",Q,[f("div",Z,[v($),v(P)])])):S("",!0)}}});export{X as default};
