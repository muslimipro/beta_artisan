import{d as E,i as U,r as b,G as M,b as t,j as s,o as c,c as _,e,f as r,g as l,t as u,k as R,a as o,l as v,L as F,M as H,_ as Y}from"./index-CxZPMcty.js";import{u as $}from"./useQuery-DtKPxzqf.js";import{P as z}from"./ProjectService-BcevoZRK.js";import{u as G}from"./api-CdHT-5EQ.js";import{b as K}from"./base-url-qR72hEjy.js";import{m as Q}from"./marked-CSV-5BXG.js";import{g as J}from"./youtube-link-sanitizer-BsJ24CId.js";import"./api-client-Dm1tdKJi.js";const p=i=>(F("data-v-d28b1dcb"),i=i(),H(),i),O={key:0,class:"p-8 text-center"},W=p(()=>o("p",null,"Loading...",-1)),X={key:1,class:"p-8 text-center"},Z=p(()=>o("strong",null,"Project:",-1)),tt=p(()=>o("strong",null,"Student:",-1)),et=p(()=>o("strong",null,"Date:",-1)),ot={key:0,class:"mb-4"},at=["src"],st={key:1,class:"text-center"},rt=["innerHTML"],nt=E({__name:"AssignmentContentView",setup(i){const n=U(),y=n.query.title||"Not available",g=n.query.studentName||"Not available",w=n.query.submitDate||"Not available",{fetchAPI:x}=G(),f=b(""),d=b(""),k=M(()=>Q.parse(f.value)),{isPending:N,isError:S,data:I,error:P}=$({queryKey:["/projects/",n.params.id.toString()],queryFn:async()=>{try{const a=await z.getProjectByID(n.params.id.toString()),h=await x(`${K}/${a.path}`).then(m=>m.text());return f.value=h,d.value=J(a.videoURL),a}catch(a){throw console.error("Error fetching project:",a),a}}});return(a,h)=>{const m=t("v-progress-circular"),j=t("v-alert"),L=t("v-card-title"),V=t("v-card-subtitle"),C=t("v-empty-state"),q=t("v-card-text"),A=t("v-btn"),B=t("v-card-actions"),D=t("v-card"),T=t("v-col");return s(N)?(c(),_("div",O,[e(m,{indeterminate:"",color:"primary"}),W])):s(S)?(c(),_("div",X,[e(j,{type:"error",dismissible:""},{default:r(()=>[l(u(s(P)),1)]),_:1})])):s(I)?(c(),R(T,{key:2,style:{"min-width":"300px","max-width":"100%"}},{default:r(()=>[e(D,{class:"pa-4 border-sm rounded-lg",variant:"flat"},{default:r(()=>[e(L),e(V,null,{default:r(()=>[o("p",null,[Z,l(" "+u(s(y)||"Not available"),1)]),o("p",null,[tt,l(" "+u(s(g)||"Not available"),1)]),o("p",null,[et,l(" "+u(s(w)||"Not available"),1)])]),_:1}),e(q,null,{default:r(()=>[d.value?(c(),_("div",ot,[o("iframe",{width:"100%",height:"370",src:d.value,title:"YouTube video player",frameborder:"0",allow:"clipboard-write; encrypted-media; picture-in-picture",allowfullscreen:""},null,8,at)])):v("",!0),d.value?v("",!0):(c(),_("div",st,[e(C,{headline:"Error",title:"Video not found",text:"Invalid video URL. Please check the link."})])),o("div",{innerHTML:k.value,class:"markdown-body mb-4"},null,8,rt)]),_:1}),e(B,{class:"justify-end"},{default:r(()=>[e(A,{color:"primary",variant:"elevated",class:"elevation-0"},{default:r(()=>[l("Approve")]),_:1})]),_:1})]),_:1})]),_:1})):v("",!0)}}}),vt=Y(nt,[["__scopeId","data-v-d28b1dcb"]]);export{vt as default};
