import{u as y}from"./useQuery-Bd2VGEUf.js";import{m as w}from"./marked-CSV-5BXG.js";import{P as b}from"./ProjectService-BU-NGnTo.js";import{d as g,z as k,u as P,r as d,A as j,w as x,l as s,c as o,t as B,a as e,F,f as I,s as L,B as S,o as r,j as V}from"./index-_-K7n9EN.js";import{u as A}from"./api-BpjFM16z.js";import{b as C}from"./base-url-qR72hEjy.js";import{_ as N}from"./TokenCard.vue_vue_type_script_setup_true_lang-CsGpiQkz.js";import"./api-client-CnnOMM-S.js";const T={key:0,class:"p-8"},$={key:1},q={key:2,class:"flex justify-center w-full bg-white"},D={class:"w-8/12 self-center"},E=e("br",null,null,-1),H=["src"],M=e("br",null,null,-1),R={class:"flex"},U=e("br",null,null,-1),z=["innerHTML"],K=e("br",null,null,-1),te=g({__name:"ProjectContentView",setup(Q){const a=k(),{locale:_}=P(),{fetchAPI:p}=A(),c=d(""),i=d(""),m=j(()=>w.parse(c.value)),{isPending:f,isError:h,data:l,error:v}=y({queryKey:["/projects/",a.params.id.toString()],queryFn:async()=>{const t=await b.getProjectByID(a.params.id.toString()),u=await p(`${C}/${t.path}`).then(n=>n.text());return c.value=u,i.value=t.videoURL,t}});return x(_,t=>{S.replace({path:"/projects"})}),(t,u)=>s(f)?(r(),o("div",T," Pending... ")):s(h)?(r(),o("div",$,B(s(v)),1)):s(l)?(r(),o("div",q,[e("div",D,[E,e("iframe",{width:"100%",height:"370",src:i.value,title:"YouTube video player",frameborder:"0",allow:"clipboard-write; encrypted-media; picture-in-picture",allowfullscreen:""},null,8,H),M,e("div",R,[(r(!0),o(F,null,I(s(l).artisan_tokens,n=>(r(),o("div",{class:"px-2",key:n.id},[V(N,{token:n},null,8,["token"])]))),128))]),U,e("div",{innerHTML:m.value,class:"content markdown-body"},null,8,z),K])])):L("",!0)}});export{te as default};
