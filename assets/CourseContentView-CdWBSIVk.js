import{d as E,r as u,k as F,c as s,u as i,t as h,a as t,l as f,F as m,i as b,p as Q,o as l,q as V,v as R,x as A,y as P}from"./index-DdP9q6Yk.js";import{u as D,a as N}from"./api-DJ9FueMB.js";import{u as O}from"./utils-Dlzf5KNW.js";import{b as L}from"./base-url-qR72hEjy.js";import{m as Y}from"./marked.esm-BnmvkTYZ.js";import{Y as K}from"./yellow_star-CHjFodN-.js";const W="data:image/svg+xml,%3csvg%20width='36'%20height='42'%20viewBox='0%200%2036%2042'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M35.2411%2021.8649C35.9052%2021.4795%2035.9052%2020.5205%2035.2411%2020.1351L2.33593%201.03833C1.66927%200.651428%200.833984%201.13243%200.833984%201.90323V40.0968C0.833984%2040.8676%201.66927%2041.3486%202.33593%2040.9617L35.2411%2021.8649Z'%20fill='black'/%3e%3c/svg%3e",J="data:image/svg+xml,%3csvg%20width='37'%20height='28'%20viewBox='0%200%2037%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0.595226%205.896V0.568H36.3072V5.896H0.595226ZM0.595226%2016.84V11.512H36.3072V16.84H0.595226ZM0.595226%2027.784V22.456H36.3072V27.784H0.595226Z'%20fill='black'/%3e%3c/svg%3e",X="data:image/svg+xml,%3csvg%20width='25'%20height='38'%20viewBox='0%200%2025%2038'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.84156%2024.9717C7.83356%2017.4357%2018.0576%2015.7557%2018.0576%2011.0997C18.0576%208.17169%2015.7536%206.53969%2011.9616%206.53969C9.03356%206.53969%206.63356%207.88369%204.28156%2010.3317L0.34556%206.73169C3.41756%203.17969%207.64156%200.827691%2012.7776%200.827691C19.7376%200.827691%2024.8256%204.09169%2024.8256%2010.4757C24.8256%2017.4837%2014.3136%2018.3477%2015.0816%2024.9717H8.84156ZM12.0096%2037.7877C9.51356%2037.7877%207.73756%2036.0117%207.73756%2033.5157C7.73756%2031.0197%209.56156%2029.2917%2012.0096%2029.2917C14.4096%2029.2917%2016.2336%2031.0197%2016.2336%2033.5157C16.2336%2036.0117%2014.4096%2037.7877%2012.0096%2037.7877Z'%20fill='black'/%3e%3c/svg%3e",e0="data:image/svg+xml,%3c?xml%20version='1.0'%20?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle/%3e%3cg%20id='Complete'%3e%3cg%20id='edit'%3e%3cg%3e%3cpath%20d='M20,16v4a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2V6A2,2,0,0,1,4,4H8'%20fill='none'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'/%3e%3cpolygon%20fill='none'%20points='12.5%2015.8%2022%206.2%2017.8%202%208.3%2011.5%208%2016%2012.5%2015.8'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",t0="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20width='800px'%20height='800px'%20viewBox='0%20-1.5%2027%2027'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m24%2024h-24v-24h18.4v2.4h-16v19.2h20v-8.8h2.4v11.2zm-19.52-12.42%201.807-1.807%205.422%205.422%2013.68-13.68%201.811%201.803-15.491%2015.491z'/%3e%3c/svg%3e",o0="data:image/svg+xml,%3csvg%20width='25'%20height='27'%20viewBox='0%200%2025%2027'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0.846153%2026.6875V20.9091H24.8462V26.6875H0.846153ZM24.8462%2012.7273L0.846153%2019.2045V13.6136L16.6814%209.79545L16.4598%2010.1534V9.30114L16.6814%209.65909L0.846153%205.84091V0.25L24.8462%206.72727V12.7273Z'%20fill='black'/%3e%3c/svg%3e",s0="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22%206.99999C19%206.99999%2013.5%206.99999%2011.5%2012.5C9.5%2018%205%2018%202%2018'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M20%205C20%205%2021.219%206.21895%2022%207C21.219%207.78105%2020%209%2020%209'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M22%2018C19%2018%2013.5%2018%2011.5%2012.5C9.5%206.99999%205%207.00001%202%207'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M20%2020C20%2020%2021.219%2018.781%2022%2018C21.219%2017.219%2020%2016%2020%2016'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",l0={class:"flex flex-col w-full"},n0={key:0},i0={key:1},c0={key:2,class:"flex justify-center bg-black text-white w-full text-3xl p-4"},a0={class:"px-4"},r0=["src"],d0={key:3},u0={key:4},h0={key:5,class:"flex h-full"},v0={class:"flex-none flex flex-col w-72"},p0={class:"flex-1 basis-1 flex-col text-white bg-black gap-1 overflow-y-auto"},g0=["id"],w0=["onClick"],x0={class:"py-2 pr-2 bg-zinc-500 text-white truncate text-ellipsis"},_0=t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5 5 1 1 5"},null,-1),k0=[_0],f0=["id","aria-labelledby"],m0=["onClick"],b0={class:"text-left truncate text-ellipsis"},y0={class:"flex-1 flex flex-col justify-between"},C0={class:"px-12 prose lg:prose-xl"},M0=["innerHTML"],V0={key:0},L0=["id","value"],j0={for:"'checkboxLabel' + i"},B0={key:1},H0=["id","value"],S0={for:"'checkboxLabel' + i"},$0=t("br",null,null,-1),q0={key:0},G0=t("button",{id:"submitBtn",class:"bg-zinc-500 text-white outline outline-black hover:outline-4 active:bg-blue-500"}," Отправить ",-1),R0=[G0],z0=t("br",null,null,-1),T0={class:"flex text-white bg-black p-2 w-full sticky bottom-0"},Z0=["onClick"],I0=["src"],O0=E({__name:"CourseContentView",setup(U0){const j=Q(),{fetchAPI:y}=N(),z=async()=>{const o=await y(`${L}/courses/info/${j.params.id}`).then(n=>n.json());return I(o.modules.length),o.modules.length>0&&o.modules[0].topics.length>0&&(console.log("Refresh"),$(w.value,x.value,o.modules[0].topics[0].id)),o},{isPending:B,isError:H,data:g,error:S}=D({queryKey:[`skill/${j.params.id}`],queryFn:z,refetchOnWindowFocus:!1}),d=u([]),T={video:W,article:J,scq:X,mcq:t0,gap:e0,code:o0,match:s0},w=u(0),x=u(0),v=u(0);var _=[];const C=u([]),k=u([]);var p=[];const M=u(""),Z=F(()=>Y(M.value)),$=async(o,n,r)=>{w.value=o,x.value=n,v.value=0;const e=await y(`${L}/topics/${r}`).then(c=>c.json());d.value=e.steps,q(0)},q=async o=>{if(v.value=o,d.value.length>0){const e=O(d.value[o].path),c=await y(`${L}/${e}`).then(a=>a.text());M.value=c;var n=c.split(`
`);if(d.value[o].category=="scq"||d.value[o].category=="mcq"){var r=n.filter(a=>!a.includes("[ ]")&&!a.includes("[x]"));_=n.filter(a=>a.includes("[ ]")||a.includes("[x]")),_=_.map(a=>a.substring(5)),M.value=r.join(`
`)}}},G=()=>{k.value.length==0?console.log(C):console.log(k)},I=o=>{for(const n of Array(o).keys())p.push(!0)},U=o=>{p[o]=!p[o],console.log(p,o)};return(o,n)=>(l(),s("div",l0,[i(B)?(l(),s("div",n0)):i(H)?(l(),s("div",i0,h(i(S)),1)):i(g)?(l(),s("div",c0,[t("h1",a0,h(i(g).name),1),t("img",{src:i(K)},null,8,r0)])):f("",!0),i(B)?(l(),s("div",d0)):i(H)?(l(),s("div",u0,h(i(S)),1)):i(g)?(l(),s("div",h0,[t("div",v0,[t("div",p0,[(l(!0),s(m,null,b(i(g).modules,(r,e)=>(l(),s("h2",{id:"accordion-heading-"+e},[t("button",{type:"button",onClick:c=>U(e),class:"flex justify-between items-center w-full bg-zinc-500 text-white px-2"},[t("span",x0,h(r.name),1),(l(),s("svg",{class:V([i(p)[e]?"":"rotate-180","w-3 h-3 shrink-0"]),fill:"none",viewBox:"0 0 10 6"},k0,2))],8,w0),t("div",{id:"accordion-body-"+e,"aria-labelledby":"accordion-heading-"+e},[(l(!0),s(m,null,b(r.topics,(c,a)=>(l(),s("button",{class:V(["relative block w-full box-border h-8 px-8 py-1 bg-black hover:border-b-2 border-white",[w.value==e&&x.value==a?"border-b-2":"border-0",i(p)[e]||w.value==e&&x.value==a?"":"hidden"]]),onClick:E0=>$(e,a,i(g).modules[e].topics[a].id)},[t("p",b0,h(c.name),1)],10,m0))),256))],8,f0)],8,g0))),256))])]),t("div",y0,[t("article",C0,[t("div",{class:"output",innerHTML:Z.value},null,8,M0),(l(!0),s(m,null,b(i(_),(r,e)=>(l(),s("div",null,[d.value[v.value].category=="scq"?(l(),s("div",V0,[R(t("input",{type:"radio","onUpdate:modelValue":n[0]||(n[0]=c=>C.value=c),id:"checkbox"+e,onChange:n[1]||(n[1]=c=>G()),value:e},null,40,L0),[[A,C.value]]),t("label",j0,h(r),1)])):d.value[v.value].category=="mcq"?(l(),s("div",B0,[R(t("input",{type:"checkbox","onUpdate:modelValue":n[2]||(n[2]=c=>k.value=c),id:"checkbox"+e,onChange:n[3]||(n[3]=c=>G()),value:e},null,40,H0),[[P,k.value]]),t("label",S0,h(r),1)])):f("",!0)]))),256)),$0,d.value[v.value].category!="article"?(l(),s("div",q0,R0)):f("",!0),z0]),t("div",T0,[(l(!0),s(m,null,b(d.value,(r,e)=>(l(),s("button",{class:V([v.value==e?"bg-white":"bg-zinc-500","flex justify-center rounded-full w-8 h-8 mx-1"]),onClick:c=>q(e)},[t("img",{class:"p-1",src:T[r.category]},null,8,I0)],10,Z0))),256))])])])):f("",!0)]))}});export{O0 as default};
