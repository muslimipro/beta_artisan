import{u as k}from"./useQuery-oHZOrjAP.js";import{m as w}from"./marked-CSV-5BXG.js";import{P as g}from"./ProjectService-9DTwVWzM.js";import{d as P,i as j,u as x,r as _,n as L,w as I,b as S,j as n,o as e,c as t,t as V,a as o,e as p,F as B,h as C,l as F,H as T}from"./index-BsCo9RwT.js";import{u as U}from"./api-C-r42jVZ.js";import{b as E}from"./base-url-qR72hEjy.js";import{_ as H}from"./TokenCard.vue_vue_type_script_setup_true_lang-CetX8gSn.js";import{g as N}from"./youtube-link-sanitizer-BsJ24CId.js";import"./api-client-DOsdkAcH.js";const R={key:0,class:"p-8"},$={key:1},q={key:2,class:"flex justify-center w-full bg-white"},A={class:"w-8/12 self-center"},D=o("br",null,null,-1),M={key:0},Y=["src"],z=o("br",null,null,-1),K={class:"flex"},Q=o("br",null,null,-1),G=["innerHTML"],J=o("br",null,null,-1),ae=P({__name:"ProjectContentView",setup(O){const i=j(),{locale:m}=x(),{fetchAPI:h}=U(),l=_(""),r=_(""),f=L(()=>w.parse(l.value)),{isPending:v,isError:y,data:c,error:b}=k({queryKey:["/projects/",i.params.id.toString()],queryFn:async()=>{const s=await g.getProjectByID(i.params.id.toString()),u=await h(`${E}/${s.path}`).then(a=>a.text());return l.value=u,r.value=N(s.videoURL),s}});return I(m,s=>{T.replace({path:"/projects"})}),(s,u)=>{const a=S("v-empty-state");return n(v)?(e(),t("div",R," Pending... ")):n(y)?(e(),t("div",$,V(n(b)),1)):n(c)?(e(),t("div",q,[o("div",A,[D,r.value==null?(e(),t("div",M,[p(a,{headline:"Error",title:"Video not found",text:"Invalid video URL. Please check the link."})])):(e(),t("iframe",{key:1,width:"100%",height:"370",src:r.value,title:"YouTube video player",frameborder:"0",allow:"clipboard-write; encrypted-media; picture-in-picture",allowfullscreen:""},null,8,Y)),z,o("div",K,[(e(!0),t(B,null,C(n(c).artisan_tokens,d=>(e(),t("div",{class:"px-2",key:d.id},[p(H,{token:d},null,8,["token"])]))),128))]),Q,o("div",{innerHTML:f.value,class:"content markdown-body"},null,8,G),J])])):F("",!0)}}});export{ae as default};
