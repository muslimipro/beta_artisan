import{u as q}from"./useQuery-DJS2eeQi.js";import{e as A,l as u,g as S,m as E,c as t,u as a,t as h,a as o,p as H,F as x,h as b,n as F,s as m,o as s,q as k}from"./index-DOEFwTMM.js";import{b as y}from"./base-url-qR72hEjy.js";import{m as I}from"./marked.esm-BnmvkTYZ.js";import{Y as N}from"./yellow_star-CHjFodN-.js";const P="data:image/svg+xml,%3csvg%20width='36'%20height='42'%20viewBox='0%200%2036%2042'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M35.2411%2021.8649C35.9052%2021.4795%2035.9052%2020.5205%2035.2411%2020.1351L2.33593%201.03833C1.66927%200.651428%200.833984%201.13243%200.833984%201.90323V40.0968C0.833984%2040.8676%201.66927%2041.3486%202.33593%2040.9617L35.2411%2021.8649Z'%20fill='black'/%3e%3c/svg%3e",Q="data:image/svg+xml,%3csvg%20width='37'%20height='28'%20viewBox='0%200%2037%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0.595226%205.896V0.568H36.3072V5.896H0.595226ZM0.595226%2016.84V11.512H36.3072V16.84H0.595226ZM0.595226%2027.784V22.456H36.3072V27.784H0.595226Z'%20fill='black'/%3e%3c/svg%3e",Y="data:image/svg+xml,%3csvg%20width='25'%20height='38'%20viewBox='0%200%2025%2038'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.84156%2024.9717C7.83356%2017.4357%2018.0576%2015.7557%2018.0576%2011.0997C18.0576%208.17169%2015.7536%206.53969%2011.9616%206.53969C9.03356%206.53969%206.63356%207.88369%204.28156%2010.3317L0.34556%206.73169C3.41756%203.17969%207.64156%200.827691%2012.7776%200.827691C19.7376%200.827691%2024.8256%204.09169%2024.8256%2010.4757C24.8256%2017.4837%2014.3136%2018.3477%2015.0816%2024.9717H8.84156ZM12.0096%2037.7877C9.51356%2037.7877%207.73756%2036.0117%207.73756%2033.5157C7.73756%2031.0197%209.56156%2029.2917%2012.0096%2029.2917C14.4096%2029.2917%2016.2336%2031.0197%2016.2336%2033.5157C16.2336%2036.0117%2014.4096%2037.7877%2012.0096%2037.7877Z'%20fill='black'/%3e%3c/svg%3e",D="data:image/svg+xml,%3csvg%20width='25'%20height='27'%20viewBox='0%200%2025%2027'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0.846153%2026.6875V20.9091H24.8462V26.6875H0.846153ZM24.8462%2012.7273L0.846153%2019.2045V13.6136L16.6814%209.79545L16.4598%2010.1534V9.30114L16.6814%209.65909L0.846153%205.84091V0.25L24.8462%206.72727V12.7273Z'%20fill='black'/%3e%3c/svg%3e",K={class:"flex flex-col w-full"},O={key:0},R={key:1},U={key:2,class:"flex justify-center bg-black text-white w-full text-3xl p-4"},G={class:"px-4"},J=["src"],W={key:3},X={key:4},ee={key:5,class:"flex h-full"},te={class:"flex-none flex flex-col w-72"},se={class:"flex-1 basis-1 flex-col text-white bg-black gap-1 overflow-y-auto"},oe=["id"],ne=["onClick"],ae={class:"py-2 pr-2 bg-zinc-500 text-white truncate text-ellipsis"},le=o("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5 5 1 1 5"},null,-1),ce=[le],ie=["id","aria-labelledby"],re=["onClick"],de={class:"text-left truncate text-ellipsis"},ue={class:"flex-1 flex flex-col justify-between"},he={class:"px-12 prose lg:prose-xl"},ve=["innerHTML"],_e={class:"flex text-white bg-black p-2 w-full"},fe=["onClick"],ge=["src"],Ce=A({__name:"CourseContentView",setup(pe){const C=F(),B=async()=>{const n=m();if(n)return await fetch(`${y}/majors/info/${C.params.id}`,{headers:{Authorization:`Bearer ${n.access_token}`}}).then(l=>l.json())},{isPending:M,isError:V,data:i,error:L}=q({queryKey:[`skill/${C.params.id}`],queryFn:B}),r=u([]),j={video:P,article:Q,quiz:Y,code:D},_=u(0),f=u(0),g=u(0),v=S([!0,!1]),p=u(`## Test
 we are testing content`),z=E(()=>I(p.value)),Z=async(n,l)=>{p.value="## "+i.value.modules[n].topics[l].name+`
Head content`,_.value=n,f.value=l,g.value=0;const c=m();if(c){const e=await fetch(`${y}/topics/${i.value.modules[n].topics[l].id}`,{headers:{Authorization:`Bearer ${c.access_token}`}}).then(d=>d.json());r.value=e.steps,console.log(r.value,r.value.length),$(0)}},$=async n=>{g.value=n;const l=m();if(l&&r.value.length>0){const c=await fetch(`${y}/${r.value[n].path}`,{headers:{Authorization:`Bearer ${l.access_token}`}}).then(e=>e.text());p.value=c}},T=n=>{v[n]=!v[n]};return(n,l)=>(s(),t("div",K,[a(M)?(s(),t("div",O)):a(V)?(s(),t("div",R,h(a(L)),1)):a(i)?(s(),t("div",U,[o("h1",G,h(a(i).name),1),o("img",{src:a(N)},null,8,J)])):H("",!0),a(M)?(s(),t("div",W)):a(V)?(s(),t("div",X,h(a(L)),1)):a(i)?(s(),t("div",ee,[o("div",te,[o("div",se,[(s(!0),t(x,null,b(a(i).modules,(c,e)=>(s(),t("h2",{id:"accordion-heading-"+e},[o("button",{type:"button",onClick:d=>T(e),class:"flex justify-between items-center w-full bg-zinc-500 text-white px-2"},[o("span",ae,h(c.name),1),(s(),t("svg",{class:k([v[e]?"":"rotate-180","w-3 h-3 shrink-0"]),fill:"none",viewBox:"0 0 10 6"},ce,2))],8,ne),o("div",{id:"accordion-body-"+e,"aria-labelledby":"accordion-heading-"+e},[(s(!0),t(x,null,b(c.topics,(d,w)=>(s(),t("button",{class:k(["relative block w-full box-border h-8 px-8 py-1 bg-black hover:border-b-2 border-white",[_.value==e&&f.value==w?"border-b-2":"border-0",v[e]||_.value==e&&f.value==w?"":"hidden"]]),onClick:we=>Z(e,w)},[o("p",de,h(d.name),1)],10,re))),256))],8,ie)],8,oe))),256))])]),o("div",ue,[o("article",he,[o("div",{class:"output",innerHTML:z.value},null,8,ve)]),o("div",_e,[(s(!0),t(x,null,b(r.value,(c,e)=>(s(),t("button",{class:k([g.value==e?"bg-white":"bg-zinc-500","flex justify-center rounded-full w-8 h-8 mx-1"]),onClick:d=>$(e)},[o("img",{class:"p-1",src:j[c.category]},null,8,ge)],10,fe))),256))])])])):H("",!0)]))}});export{Ce as default};
